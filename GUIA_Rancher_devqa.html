<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oracle XE 21 - Ambiente de Desenvolvimento</title>
    <style>
        :root {
            --primary-color: #2d5986;
            --gradient-1: #4facfe;
            --gradient-2: #00f2fe;
            --secondary-color: #f8f9fa;
            --accent-color: #e63946;
            --text-color: #2b2d42;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
            background-image: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);
        }

        .emoji-header {
            font-size: 2em;
            text-align: center;
            margin: 20px 0;
        }

        .card {
            transition: transform 0.2s ease-in-out;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        h1, h2, h3, h4 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-top: 30px;
        }

        .card {
            background-color: var(--secondary-color);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .code-block {
            background-color: #1e1e1e;
            color: #fff;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Consolas', monospace;
            overflow-x: auto;
            margin: 10px 0;
        }

        .connection-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .alert {
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üê≥ Oracle XE 21 - Ambiente de Desenvolvimento</h1>

        <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; padding: 30px; margin-bottom: 30px;">
            <h2 style="color: white; border-bottom: none;">üéÆ Miss√£o: Ambiente Dev em 30 Minutos! üöÄ</h2>
            <p style="font-size: 1.2em; margin: 20px 0;">
                Ol√°, Desenvolvedor(a) Destemido(a)! 
            </p>
            <p style="margin: 15px 0;">
                Sua miss√£o, caso aceite, √© configurar um ambiente Oracle completo em tempo recorde!
            </p>
            <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin: 20px 0;">
                <p style="margin: 0;">
                    <strong>N√≠vel:</strong> F√°cil üåü<br>
                    <strong>Tempo estimado:</strong> 30 minutos ‚è±Ô∏è<br>
                    <strong>Recompensa:</strong> Um ambiente Oracle pronto para seus projetos! üèÜ
                </p>
            </div>
            <p style="font-style: italic; margin-top: 20px;">
                "Prepare-se para uma jornada onde comandos Docker s√£o suas armas, e um ambiente perfeito √© seu destino!" üéØ
            </p>
        </div>
        
        <div class="card">
            <h2>‚ú® Bem-vindo!</h2>
            <p>Este container Docker cont√©m uma instala√ß√£o do Oracle XE 21 com os dados do ambiente de desenvolvimento j√° configurados e prontos para uso!</p>
            
            <p>Ap√≥s a configura√ß√£o bem-sucedida, o banco de dados contar√° com dois schemas:</p>
            <ul>
                <li><strong>GFHOM:</strong> Cont√©m todas as tabelas necess√°rias para utilizar a CAT83</li>
                <li><strong>GF:</strong> Schema vazio, destinado ao desenvolvimento uniface do GF</li>
            </ul>

            <div style="text-align: center; margin: 20px 0;">
                <span style="font-size: 3em;">üöÄ üéØ üí´</span>
            </div>
        </div>

        <div class="card">
            <h2>üìã Pr√©-requisitos</h2>
            <ul>
                <li>Rancher Desktop instalado e configurado</li>
                <li>Porta 1521 dispon√≠vel no computador</li>
            </ul>
        </div>

        <div class="card">
            <h2>üöÄ Como usar</h2>

            <div class="alert">
                <strong>‚ö†Ô∏è Importante:</strong> Todos os comandos devem ser executados no prompt de comando (CMD) do Windows.
            </div>

            <h3>üì• 1. Prepara√ß√£o (para usu√°rios da vers√£o anterior)</h3>
            <div class="alert" style="background-color: #f8d7da; border-color: #f5c6cb; color: #721c24;">
                <strong>‚ö†Ô∏è Aten√ß√£o:</strong> Se voc√™ j√° tinha a vers√£o anterior instalada, execute estes comandos primeiro:
                    <div class="code-block">
                        docker rm -f oracle-xe-devqa && docker rmi rafaelsantos440/oracle-xe-21
                    </div>
            </div>

            <h3>2. Download da imagem</h3>
            <div class="code-block">
                docker pull rafaelsantos440/oracle-xe-21:latest
            </div>

            <h3>3. Executar o container</h3>
            <div class="code-block">
                docker run -d -p 1521:1521 --name oracle-xe-devqa rafaelsantos440/oracle-xe-21:latest
            </div>

            <div class="alert">
                <strong>Nota:</strong> Na primeira inicializa√ß√£o, o banco pode demorar alguns minutos para estar dispon√≠vel, pois o script ir√° importar os dados automaticamente.
            </div>

                <h3>üîç Verificar status</h3>
                <div class="code-block">docker logs -f oracle-xe-devqa</div>
                <div class="alert" style="background-color: #fff3cd; border-color: #ffeeba; color: #856404;">
                    <strong>Importante:</strong> Acompanhe o log do container e s√≥ prossiga para a configura√ß√£o do banco ap√≥s visualizar a mensagem de que o Oracle est√° pronto para conex√µes.<br>
                    Isso garante que o banco foi inicializado corretamente e est√° pronto para uso.<br>
                    <br>
                    Durante a inicializa√ß√£o, observe no log as seguintes etapas:<br>
                    <ul>
                        <li>Inicializa√ß√£o do banco de dados</li>
                        <li>Configura√ß√£o do diret√≥rio para importa√ß√£o</li>
                        <li>Progresso da importa√ß√£o dos schemas GFHOM e GF</li>
                        <li>Confirma√ß√£o de sucesso ou detalhes de qualquer erro</li>
                    </ul>
                </div>
        </div>

        <div class="card">
            <h2>üîå Dados para conex√£o</h2>

            <div class="connection-info">
                <div>
                    <h3>Usu√°rio Aplica√ß√£o</h3>
                    <ul>
                        <li>Host: localhost</li>
                        <li>Porta: 1521</li>
                        <li>Service Name: GFHOM</li>
                        <li>Usu√°rio: devqa</li>
                        <li>Senha: manager</li>
                        <li>Characterset: WE8MSWIN1252</li>
                    </ul>
                </div>

                <div>
                    <h3>Usu√°rio Administrador</h3>
                    <ul>
                        <li>Usu√°rio: SYSTEM</li>
                        <li>Senha: manager</li>
                    </ul>
                </div>
            </div>

            <div class="alert">
                <strong>üí° Dica:</strong> Inicie a conex√£o usando o usu√°rio SYSTEM. Depois de confirmar que tudo est√° funcionando, voc√™ pode criar novas conex√µes com o usu√°rio devqa.
            </div>

            <h3>Strings de conex√£o</h3>
            
            <h4>DBeaver e ferramentas similares:</h4>
            <ul>
                <li>URL: //localhost:1521/GFHOM</li>
                <li>JDBC: jdbc:oracle:thin:@//localhost:1521/GFHOM</li>
            </ul>

            <h4>Formato alternativo (usando SID):</h4>
            <ul>
                <li>URL: //localhost:1521/XE</li>
                <li>JDBC: jdbc:oracle:thin:@localhost:1521:XE</li>
            </ul>
        </div>

        <div class="card">
            <h2>üõ†Ô∏è Comandos √∫teis</h2>


            <p>Ver se o container est√° rodando:</p>
            <div class="code-block">docker ps | findstr oracle-xe-devqa</div>

            <h3>Gerenciamento do container</h3>
            <p>Parar o container:</p>
            <div class="code-block">docker stop oracle-xe-devqa</div>

            <p>Iniciar o container:</p>
            <div class="code-block">docker start oracle-xe-devqa</div>

            <p>Remover o container (caso precise reinstalar):</p>
            <div class="code-block">docker rm -f oracle-xe-devqa</div>

            <h3>Mudando a porta (opcional)</h3>
            <div class="code-block">
docker run -d -p NOVA_PORTA:1521 --name oracle-xe-devqa rafaelsantos440/oracle-xe-21</div>
            
            <h3>üîç Verificando a importa√ß√£o</h3>
            <p>Para confirmar que os schemas GFHOM e GF foram importados corretamente, voc√™ pode executar estas verifica√ß√µes:</p>
            
            <h4>Verificar tabelas carregadas:</h4>
            <div class="code-block">cmd /c 'docker exec oracle-xe-devqa bash -c "echo ''ALTER SESSION SET CONTAINER = GFHOM;'' > /tmp/tables.sql && echo ''SET LINESIZE 120'' >> /tmp/tables.sql && echo ''SET PAGESIZE 100'' >> /tmp/tables.sql && echo ''COLUMN owner FORMAT A20'' >> /tmp/tables.sql && echo ''COLUMN tables_carregadas FORMAT 999999'' >> /tmp/tables.sql && echo \"SELECT owner, COUNT(*) AS tables_carregadas FROM all_tables WHERE owner IN (''GFHOM'', ''GF'') GROUP BY owner;\" >> /tmp/tables.sql && sqlplus -s ''/ as sysdba'' @/tmp/tables.sql"'</div>
            
            <h4>Verificar usu√°rios do PDB:</h4>
            <div class="code-block">docker exec oracle-xe-devqa bash -c "echo 'ALTER SESSION SET CONTAINER = GFHOM;' > /tmp/users.sql && echo 'SELECT username FROM all_users ORDER BY username;' >> /tmp/users.sql && sqlplus -s '/ as sysdba' @/tmp/users.sql"</div>
            
            <h4>Verificar tablespaces:</h4>
            <div class="code-block">docker exec oracle-xe-devqa bash -c "echo 'ALTER SESSION SET CONTAINER = GFHOM;' > /tmp/tbs.sql && echo 'SELECT tablespace_name, ROUND(bytes/1024/1024/1024, 2) as SIZE_GB FROM dba_data_files;' >> /tmp/tbs.sql && sqlplus -s '/ as sysdba' @/tmp/tbs.sql"</div>
            
            <div class="alert" style="background-color: #d4edda; border-color: #c3e6cb; color: #155724;">
                <strong>‚úÖ Sucesso:</strong> Se a importa√ß√£o foi bem-sucedida, voc√™ ver√° aproximadamente 2.824 tabelas no schema GFHOM e os tablespaces TBS_DADOS_GFHOM (8GB) e TBS_INDICES_GFHOM (2GB) configurados corretamente.
            </div>
        </div>

        <div class="card">
            <h2>‚ö†Ô∏è Problemas comuns</h2>

            <ol>
                <li><strong>Erro de porta em uso:</strong>
                    <ul>
                        <li>Verifique se a porta 1521 n√£o est√° sendo usada por outro processo</li>
                        <li>Use uma porta diferente conforme mostrado acima</li>
                    </ul>
                </li>

                <li><strong>Container n√£o inicia:</strong>
                    <ul>
                        <li>Verifique os logs com `docker logs -f oracle-xe-devqa`</li>
                        <li>Certifique-se de que h√° mem√≥ria suficiente dispon√≠vel</li>
                    </ul>
                </li>

                <li><strong>Problemas de conex√£o:</strong>
                    <ul>
                        <li>Verifique se o container est√° rodando com `docker ps`</li>
                        <li>Aguarde alguns minutos na primeira inicializa√ß√£o</li>
                        <li>Verifique as credenciais de conex√£o</li>
                    </ul>
                </li>
            </ol>
        </div>

        <div class="card">
            <h2>üÜò Suporte</h2>
            <p>Em caso de problemas, verificar os logs do container:</p>
            <div class="code-block">docker logs -f oracle-xe-devqa</div>
        </div>

        <div class="alert">
            √öltima atualiza√ß√£o: Setembro 2025
        </div>
    </div>
</body>
</html>
